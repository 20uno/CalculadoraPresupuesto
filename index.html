<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculadora de Presupuesto de Casa</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<style>
/* === ESTILOS ORIGINALES SIN CAMBIOS === */
body {
    font-family: 'Roboto', sans-serif;
    background: linear-gradient(rgba(74,60,49,.9), rgba(74,60,49,.9)),
    url('https://www.transparenttextures.com/patterns/fallen-leaves.png');
    max-width: 900px;
    margin: 0 auto;
    padding: 40px 20px;
    color: #f5e8c7;
}
body.light-mode {
    background: linear-gradient(rgba(255,250,240,.9), rgba(255,250,240,.9)),
    url('https://www.transparenttextures.com/patterns/fallen-leaves.png');
    color: #4a3c31;
}
h2 {
    font-family: 'Montserrat', sans-serif;
    text-align: center;
    color: #d4a373;
    font-size: 2.5em;
}
.section {
    background: #3d5a36;
    padding: 35px;
    border-radius: 15px;
    box-shadow: 0 8px 20px rgba(0,0,0,.4);
}
body.light-mode .section {
    background: #fffaf0;
}
label {
    display: block;
    margin-top: 20px;
}
select, input, textarea {
    width: 100%;
    padding: 10px;
    border-radius: 8px;
    margin-top: 6px;
}
button {
    width: 100%;
    padding: 14px;
    margin-top: 20px;
    border-radius: 10px;
    background: #d4a373;
    border: none;
    cursor: pointer;
}
#resultado {
    margin-top: 30px;
    padding: 25px;
    background: #5c7557;
    border-radius: 10px;
}
footer {
    text-align: center;
    margin-top: 30px;
    font-size: .9em;
}
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>

<div class="section">
<button onclick="toggleTheme()">游깽</button>

<h2>Calculadora de Presupuesto de Casa</h2>
<p>Estimaci칩n orientativa de construcci칩n residencial 2026.</p>

<label>Tipo de Construcci칩n</label>
<select id="tipo_construccion">
  <option value="13000">Accesible ($13,000/m)</option>
  <option value="18000" selected>Balanceado ($18,000/m)</option>
  <option value="24000">Residencial ($24,000/m)</option>
</select>

<label>Rec치maras</label>
<select id="recamaras"><option>1</option><option selected>2</option><option>3</option><option>4</option></select>
<label>Tama침o rec치mara (m)</label>
<select id="tamano_recamaras"><option>12</option><option selected>15</option><option>20</option></select>

<label>Salas</label>
<select id="salas"><option selected>1</option><option>2</option></select>
<label>Tama침o sala (m)</label>
<select id="tamano_salas"><option>20</option><option selected>25</option><option>30</option></select>

<label>Cocinas</label>
<select id="cocinas"><option selected>1</option><option>2</option></select>
<label>Tama침o cocina (m)</label>
<select id="tamano_cocinas"><option>10</option><option selected>12</option><option>15</option></select>

<label>Ba침os</label>
<select id="banos"><option>1</option><option selected>2</option><option>3</option></select>
<label>Tama침o ba침o (m)</label>
<select id="tamano_banos"><option>4</option><option selected>6</option><option>8</option></select>

<label>Comedores</label>
<select id="comedores"><option selected>1</option><option>2</option></select>
<label>Tama침o comedor (m)</label>
<select id="tamano_comedores"><option>12</option><option selected>15</option><option>20</option></select>

<label>Garajes</label>
<select id="garajes"><option>0</option><option selected>1</option><option>2</option></select>
<label>Tama침o garaje (m)</label>
<select id="tamano_garajes"><option>15</option><option selected>20</option><option>30</option></select>

<label>Patios / Jardines</label>
<select id="patios"><option>0</option><option selected>1</option><option>2</option></select>
<label>Tama침o patio (m)</label>
<select id="tamano_patios"><option>20</option><option selected>30</option><option>40</option></select>

<label>Terrazas</label>
<select id="terrazas"><option selected>0</option><option>1</option><option>2</option></select>
<label>Tama침o terraza (m)</label>
<select id="tamano_terrazas"><option>10</option><option selected>15</option><option>20</option></select>

<label>% Circulaci칩n</label>
<input type="number" id="circulacion" value="15">

<label>% Imprevistos</label>
<input type="number" id="imprevistos" value="4">

<label>Tama침o del terreno (m)</label>
<input type="number" id="tamano_terreno" value="200">

<label>Costo terreno por m</label>
<input type="number" id="costo_terreno_m2" value="5000">

<button onclick="calcularPresupuesto()">Calcular</button>

<div id="resultado"></div>
</div>

<footer>
춸 2026 Calculadora de Presupuesto de Casa 췅 Estimaci칩n referencial
</footer>

<script>
function toggleTheme(){
  document.body.classList.toggle('light-mode');
}

function formatear(n){
  return n.toLocaleString('es-MX',{minimumFractionDigits:2});
}

function calcularPresupuesto(){

const tipo = +tipo_construccion.value;

const m2Interior =
(+recamaras.value * +tamano_recamaras.value) +
(+salas.value * +tamano_salas.value) +
(+cocinas.value * +tamano_cocinas.value) +
(+banos.value * +tamano_banos.value) +
(+comedores.value * +tamano_comedores.value) +
(+garajes.value * +tamano_garajes.value);

const m2Circulacion = m2Interior * (+circulacion.value / 100);
const m2Patios = (+patios.value * +tamano_patios.value) * 0.30;
const m2Terrazas = (+terrazas.value * +tamano_terrazas.value) * 0.50;

const m2Equivalentes = m2Interior + m2Circulacion + m2Patios + m2Terrazas;

const base = m2Equivalentes * tipo;
const imprev = base * (+imprevistos.value / 100);

const planeacion = 25000 + (m2Equivalentes * 375) + (m2Equivalentes * 80);

const terreno = +tamano_terreno.value * +costo_terreno_m2.value;

const total = base + imprev + planeacion + terreno;

resultado.innerHTML = `
<b>츼rea equivalente:</b> ${m2Equivalentes.toFixed(2)} m<br>
<b>Construcci칩n:</b> $${formatear(base + imprev)}<br>
<b>Planeaci칩n y tr치mites:</b> $${formatear(planeacion)}<br>
<b>Terreno:</b> $${formatear(terreno)}<br><br>
<b>Total estimado del proyecto:</b><br>
$${formatear(total)}
`;
}
</script>

</body>
</html>
